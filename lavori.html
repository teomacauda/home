<!DOCTYPE html>
<html lang="it" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lavori | Teo Macauda</title>
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1018 723'><path d='M1017.46,153.167L1017.42,569.5L865.335,496.583L865.335,722.792L539.502,722.667L575.919,653.667L796.127,653.667L796.127,69.25L616.835,69.25L432.669,425.125L248.502,69.25L69.21,69.25L69.21,653.667L289.502,653.667L325.96,722.792L0.002,722.792L0.002,-0L289.502,-0L432.669,275.375L575.835,-0L865.335,-0L865.335,226.083L1017.46,153.167Z' fill='rgb(255,122,0)'/><path d='M657.833,584.167L657.833,287.083L432.667,722.792L207.5,287.042L207.5,584.167L138.417,584.167L138.417,138.458L207.5,138.458L432.667,574.708L657.833,138.458L726.917,138.458L726.917,584.167L657.833,584.167Z' fill='rgb(255,122,0)'/></svg>">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], },
                    colors: { dark: '#000000', accent: '#FF7A00', accentHover: '#E56D00', graytext: '#AAAAAA', }
                }
            }
        }
    </script>

    <style>
        html, body { background-color: #000000; color: #ffffff; width: 100%; max-width: 100vw; overflow-x: hidden; position: relative; }
        #page-wrapper { overflow-x: hidden; width: 100%; position: relative; }
        .glass-nav { background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
        .glass-card { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); border: 1px solid rgba(255, 255, 255, 0.08); transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), border-color 0.4s ease, box-shadow 0.4s ease; }
        .glass-card:hover { transform: translateY(-8px); border-color: rgba(255, 122, 0, 0.3); box-shadow: 0 20px 40px -10px rgba(255, 122, 0, 0.1); }
        .glass-modal { background: rgba(15, 15, 15, 0.85); backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px); border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .ambient-glow { position: absolute; width: 200%; max-width: 1000px; aspect-ratio: 1/1; background: radial-gradient(circle, rgba(255,122,0,0.3) 0%, rgba(0,0,0,0) 70%); top: -20vh; left: 50%; transform: translateX(-50%); z-index: 0; pointer-events: none; }
        main, footer { position: relative; z-index: 10; }
        .reveal { opacity: 0; transform: translateY(40px); transition: opacity 1s cubic-bezier(0.16, 1, 0.3, 1), transform 1s cubic-bezier(0.16, 1, 0.3, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }
        .work-overlay { background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0) 100%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none; }
        .glass-card:hover .work-overlay { opacity: 1; }
        .filter-btn.active { background: #FF7A00; color: white; border-color: #FF7A00; }
        .chat-button { position: fixed; bottom: 2rem; right: 2rem; z-index: 130; display: flex; align-items: center; justify-content: center; background-color: #FF7A00; color: white; border-radius: 9999px; text-decoration: none; transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), transform 0.3s; white-space: nowrap; overflow: hidden; min-width: 4rem; height: 4rem; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); border: none; cursor: pointer; }
        .chat-button:hover { transform: scale(1.1); }
        #chat-text { max-width: 0; opacity: 0; font-size: 0px; transition: all 0.5s ease; font-family: 'Inter', sans-serif; font-weight: 600; }
        .chat-button.expanded { padding: 0 1.5rem; max-width: 350px; }
        .chat-button.expanded #chat-text { max-width: 250px; opacity: 1; font-size: 16px; margin-left: 12px; }
        @media (max-width: 768px) {
            .chat-button { bottom: 1.5rem; right: 1.5rem; height: 3.5rem; min-width: 3.5rem; }
            .chat-button svg { width: 1.5rem; height: 1.5rem; }
            .chat-button.expanded { padding: 0 1.2rem; max-width: calc(100vw - 3rem); }
            .chat-button.expanded #chat-text { font-size: 14px; margin-left: 8px; }
        }
    </style>
</head>
<body class="antialiased selection:bg-accent selection:text-white">

<div id="page-wrapper">

    <div class="ambient-glow"></div>

    <header class="fixed top-0 w-full z-[135] glass-nav transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="/" class="flex items-center hover:opacity-80 transition-opacity">
                <svg class="h-10 md:h-12 w-auto" viewBox="0 0 1018 723" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1017.46,153.167L1017.42,569.5L865.335,496.583L865.335,722.792L539.502,722.667L575.919,653.667L796.127,653.667L796.127,69.25L616.835,69.25L432.669,425.125L248.502,69.25L69.21,69.25L69.21,653.667L289.502,653.667L325.96,722.792L0.002,722.792L0.002,-0L289.502,-0L432.669,275.375L575.835,-0L865.335,-0L865.335,226.083L1017.46,153.167Z" style="fill:white;fill-rule:nonzero;"/>
                    <path d="M657.833,584.167L657.833,287.083L432.667,722.792L207.5,287.042L207.5,584.167L138.417,584.167L138.417,138.458L207.5,138.458L432.667,574.708L657.833,138.458L726.917,138.458L726.917,584.167L657.833,584.167Z" style="fill:white;fill-rule:nonzero;"/>
                </svg>
            </a>
            
            <nav class="hidden md:flex gap-4 text-sm font-medium text-graytext">
                <a href="lavori.html" class="px-5 py-2.5 rounded-full border border-accent bg-accent/10 text-white transition-all duration-300">
                    Lavori
                </a>
                <a href="/#servizi" class="px-5 py-2.5 rounded-full border border-accent hover:border-accent/30 hover:bg-accent/10 hover:text-white transition-all duration-300">
                    Servizi
                </a>
            </nav>

            <button onclick="toggleMobileMenu()" class="md:hidden text-graytext hover:text-white transition-colors p-2 focus:outline-none relative z-[120]">
                <i data-lucide="menu" id="icon-menu" class="w-7 h-7 block"></i>
                <i data-lucide="x" id="icon-x" class="w-7 h-7 hidden"></i>
            </button>
        </div>

        <div id="mobileMenu" class="fixed inset-0 z-[110] flex items-start justify-center px-6 pt-24 opacity-0 pointer-events-none transition-all duration-300">
            <div class="absolute inset-0 bg-black/85 backdrop-blur-2xl" onclick="toggleMobileMenu()"></div>
            <div id="mobileMenuContent" class="bg-[#0F0F0F] border border-white/10 w-full max-w-sm p-8 rounded-3xl relative transform -translate-y-10 transition-transform duration-500 shadow-[0_30px_60px_rgba(0,0,0,0.9)]">
                <nav class="flex flex-col gap-8 text-left">
                    <a href="/" class="flex items-center gap-4 text-2xl font-bold text-white hover:text-accent transition-colors group">
                        <i data-lucide="home" class="w-6 h-6 text-accent/50 group-hover:text-accent"></i> Home
                    </a>
                    <a href="lavori.html" class="flex items-center gap-4 text-2xl font-bold text-white hover:text-accent transition-colors group">
                        <i data-lucide="folder-kanban" class="w-6 h-6 text-accent/50 group-hover:text-accent"></i> Lavori
                    </a>
                    <a href="/#servizi" onclick="toggleMobileMenu()" class="flex items-center gap-4 text-2xl font-bold text-white hover:text-accent transition-colors group">
                        <i data-lucide="layers" class="w-6 h-6 text-accent/50 group-hover:text-accent"></i> Servizi
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <main class="pt-32 pb-24 px-6 min-h-screen overflow-x-hidden block">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-6xl font-bold mb-6 italic tracking-tight">Portfolio <span class="text-accent">Selezionato.</span></h2>
                <p class="text-graytext text-lg max-w-2xl mx-auto font-light">Gli esempi sono solo alcuni dei lavori che ho prodotto per i miei clienti e non solo!</p>
            </div>

            <div class="flex flex-wrap justify-center gap-3 mb-16 reveal">
                <button onclick="filterPortfolio('social-marketing', this)" class="filter-btn active px-6 py-2 rounded-full border border-white/10 text-sm font-medium transition-all hover:border-accent/50">Social Marketing</button>
                <button onclick="filterPortfolio('cinematic', this)" class="filter-btn px-6 py-2 rounded-full border border-white/10 text-sm font-medium transition-all hover:border-accent/50">Cinematic</button>
                <button onclick="filterPortfolio('personal-projects', this)" class="filter-btn px-6 py-2 rounded-full border border-white/10 text-sm font-medium transition-all hover:border-accent/50">Personal Projects</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 reveal" id="portfolio-grid">
                
                <div class="work-item group social-marketing relative aspect-[9/16] rounded-3xl overflow-hidden glass-card cursor-pointer" onclick="openVideoModal('https://www.instagram.com/reel/DR9apqAjKQb/embed', 'MyField Ferrara - Reel', true)">
                    <img src="https://i.ibb.co/zTgwr8gs/573826072-18322924789245966-5227600504376843283-n.jpg" alt="Copertina" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 flex items-center justify-center z-10"><i data-lucide="play-circle" class="w-16 h-16 text-white/80 group-hover:text-accent transition-all"></i></div>
                    <div class="work-overlay absolute inset-0 p-6 flex flex-col justify-end z-20"><span class="text-accent text-xs font-bold uppercase tracking-widest mb-2">Social Marketing</span><h4 class="text-xl font-bold text-white">MyField Ferrara - Reel</h4></div>
                </div>

                <div class="work-item group social-marketing relative aspect-[9/16] rounded-3xl overflow-hidden glass-card cursor-pointer" onclick="openVideoModal('https://www.instagram.com/reel/DUJA_MsCFVd/embed', 'Ally - Video 1', true)">
                    <img src="https://i.ibb.co/RpbKqDRX/Gram-Fetchr-Thumbnail-72780119.jpg" alt="Copertina" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 flex items-center justify-center z-10"><i data-lucide="play-circle" class="w-16 h-16 text-white/80 group-hover:text-accent transition-all"></i></div>
                    <div class="work-overlay absolute inset-0 p-6 flex flex-col justify-end z-20"><span class="text-accent text-xs font-bold uppercase tracking-widest mb-2">Social Marketing</span><h4 class="text-xl font-bold text-white">Ally - Video 1</h4></div>
                </div>

                <div class="work-item group social-marketing relative aspect-[9/16] rounded-3xl overflow-hidden glass-card cursor-pointer" onclick="openVideoModal('https://www.instagram.com/reel/DPL010oDCoY/embed', 'MyField Ferrara - Strength & Conditioning', true)">
                    <img src="https://i.ibb.co/gMJTLSTY/591165588-852379984205909-5376029182675258672-n.jpg" alt="Copertina" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 flex items-center justify-center z-10"><i data-lucide="play-circle" class="w-16 h-16 text-white/80 group-hover:text-accent transition-all"></i></div>
                    <div class="work-overlay absolute inset-0 p-6 flex flex-col justify-end z-20"><span class="text-accent text-xs font-bold uppercase tracking-widest mb-2">Social Marketing</span><h4 class="text-xl font-bold text-white">MyField Ferrara - Reel</h4></div>
                </div>

                <div class="work-item group social-marketing relative aspect-[9/16] rounded-3xl overflow-hidden glass-card cursor-pointer" onclick="openVideoModal('https://www.instagram.com/reel/DO0w_-nDDWM/embed', 'MyField Ferrara - Reels', true)">
                    <img src="https://i.ibb.co/5hpvJ8fF/550829170-1870878360453409-8070565456234247393-n.jpg" alt="Copertina" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 flex items-center justify-center z-10"><i data-lucide="play-circle" class="w-16 h-16 text-white/80 group-hover:text-accent transition-all"></i></div>
                    <div class="work-overlay absolute inset-0 p-6 flex flex-col justify-end z-20"><span class="text-accent text-xs font-bold uppercase tracking-widest mb-2">Social Marketing</span><h4 class="text-xl font-bold text-white">MyField Ferrara - Reels</h4></div>
                </div>

                <div class="work-item group personal-projects relative aspect-video rounded-3xl overflow-hidden glass-card cursor-pointer" onclick="openVideoModal('https://www.youtube.com/embed/ZYBKlJY46wA', 'Reel Instagram 2026', false)">
                    <img src="https://i.ibb.co/cSKN7y5Z/ZYBKl-JY46w-A-HD.jpg" alt="Copertina" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 flex items-center justify-center z-10"><i data-lucide="play-circle" class="w-16 h-16 text-white/80 group-hover:text-accent transition-all"></i></div>
                    <div class="work-overlay absolute inset-0 p-6 flex flex-col justify-end z-20"><span class="text-accent text-xs font-bold uppercase tracking-widest mb-2">Personal Projects</span><h4 class="text-xl font-bold text-white">Reel Instagram 2026</h4></div>
                </div>

                <div class="work-item group cinematic relative aspect-[9/16] rounded-3xl overflow-hidden glass-card cursor-pointer" onclick="openVideoModal('https://www.instagram.com/reel/DTao5EADGay/embed', 'Cinematic - Yamaha R7', true)">
                    <img src="https://i.ibb.co/cXLdL7bn/614910429-18423940864114638-862154632572587510-n.jpg" alt="Copertina" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 flex items-center justify-center z-10"><i data-lucide="play-circle" class="w-16 h-16 text-white/80 group-hover:text-accent transition-all"></i></div>
                    <div class="work-overlay absolute inset-0 p-6 flex flex-col justify-end z-20"><span class="text-accent text-xs font-bold uppercase tracking-widest mb-2">Cinematic</span><h4 class="text-xl font-bold text-white">Cinematic - Yamaha R7</h4></div>
                </div>

                <div class="work-item group cinematic relative aspect-[9/16] rounded-3xl overflow-hidden glass-card cursor-pointer" onclick="openVideoModal('https://www.instagram.com/reel/DNNndH_sLEB/embed', 'Cinematic - Yamaha R7 2', true)">
                    <img src="https://i.ibb.co/gYkPb24/531233189-18400638547114638-6357552322738496405-n.jpg" alt="Copertina" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 flex items-center justify-center z-10"><i data-lucide="play-circle" class="w-16 h-16 text-white/80 group-hover:text-accent transition-all"></i></div>
                    <div class="work-overlay absolute inset-0 p-6 flex flex-col justify-end z-20"><span class="text-accent text-xs font-bold uppercase tracking-widest mb-2">Cinematic</span><h4 class="text-xl font-bold text-white">Cinematic - Yamaha R7 2</h4></div>
                </div>

                <div class="work-item group cinematic relative aspect-video rounded-3xl overflow-hidden glass-card cursor-pointer" onclick="openVideoModal('https://www.youtube.com/embed/DWQPP8C6h9E', 'ETNA - Cinematic Vlog', false)">
                    <img src="https://i.ibb.co/391h0ZSZ/DWQPP8-C6h9-E-HD.jpg" alt="Copertina" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 flex items-center justify-center z-10"><i data-lucide="play-circle" class="w-16 h-16 text-white/80 group-hover:text-accent transition-all"></i></div>
                    <div class="work-overlay absolute inset-0 p-6 flex flex-col justify-end z-20"><span class="text-accent text-xs font-bold uppercase tracking-widest mb-2">Cinematic</span><h4 class="text-xl font-bold text-white">ETNA - Cinematic Vlog</h4></div>
                </div>

            </div>

            <div class="mt-20 text-center reveal">
                <a href="/" class="text-graytext hover:text-white transition-colors inline-flex items-center gap-2 mx-auto border-b border-transparent hover:border-accent">
                    <i data-lucide="chevron-left" class="w-4 h-4"></i> Torna alla Home
                </a>
            </div>
        </div>
    </main>

    <footer class="py-12 text-center border-t border-white/5 relative z-10">
        <p class="text-graytext text-sm">&copy; <script>document.write(new Date().getFullYear())</script> Matteo Maria Macauda. P.IVA 02153520891.</p>
    </footer>

    <div class="pb-12 text-center px-6 relative z-10">
        <p class="text-[10px] text-white/30 max-w-2xl mx-auto leading-relaxed">
            Ogni contenuto visivo, testuale e il codice sorgente di questo sito sono di proprietà esclusiva dell'autore. È vietata la riproduzione, anche parziale, senza autorizzazione scritta.
        </p>
    </div>

</div> 

    <div id="videoModal" class="fixed inset-0 z-[150] flex items-center justify-center px-4 md:px-20 opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="absolute inset-0 bg-black/95 backdrop-blur-xl" onclick="closeVideoModal()"></div>
        <div class="relative glass-modal rounded-3xl overflow-hidden transform scale-95 transition-all duration-500 flex flex-col" id="videoModalContent">
            <button onclick="closeVideoModal()" class="absolute top-4 right-4 z-[170] text-white/50 hover:text-white transition-colors bg-black/40 p-2 rounded-full backdrop-blur-md">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
            <div class="flex-1 bg-black" id="videoContainer"></div>
            <div class="p-5 bg-black/40 backdrop-blur-md border-t border-white/5">
                <h5 id="videoTitle" class="text-lg font-bold text-white">Titolo</h5>
            </div>
        </div>
    </div>

    <button id="chat-pill" onclick="toggleContactModal()" class="chat-button">
        <i data-lucide="message-square" class="w-7 h-7 shrink-0"></i>
        <span id="chat-text">Parliamo del tuo progetto?</span>
    </button>

    <div id="contactModal" class="fixed inset-0 z-[140] flex items-center justify-center px-4 opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-md" onclick="toggleContactModal()"></div>
        <div class="glass-modal w-full max-w-md p-8 rounded-3xl relative transform translate-y-10 transition-transform duration-500 shadow-2xl" id="contactModalContent">
            <button onclick="toggleContactModal()" class="absolute top-6 right-6 text-graytext hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h3 class="text-3xl font-bold mb-2 text-white">E adesso? <br/><span class="text-accent">Contattami!</span></h3>
            
            <div class="space-y-4 mt-8">
                <a href="https://wa.me/message/KBRZEPY2IJFTA1" target="_blank" class="flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent/50 transition-all group">
                    <div class="w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center text-accent"><i data-lucide="message-circle" class="w-5 h-5"></i></div>
                    <div><div class="text-xs text-graytext font-bold">WhatsApp</div><div class="font-medium text-white">Scrivimi ora</div></div>
                </a>
                
                <a href="tel:+393784142773" class="flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent/50 transition-all group">
                    <div class="w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center text-accent"><i data-lucide="phone" class="w-5 h-5"></i></div>
                    <div><div class="text-xs text-graytext font-bold">Chiamata</div><div class="font-medium text-white">+39 378 414 2773</div></div>
                </a>

                <a href="mailto:matteomacaudaprod@gmail.com" class="flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent/50 transition-all group">
                    <div class="w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center text-accent"><i data-lucide="mail" class="w-5 h-5"></i></div>
                    <div><div class="text-xs text-graytext font-bold">Email</div><div class="font-medium text-white break-all">matteomacaudaprod@gmail.com</div></div>
                </a>
                
                <a href="https://www.instagram.com/teo.macauda" target="_blank" class="flex items-center gap-4 p-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent/50 transition-all group">
                    <div class="w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center text-accent"><i data-lucide="instagram" class="w-5 h-5"></i></div>
                    <div><div class="text-xs text-graytext font-bold">Instagram</div><div class="font-medium text-white">@teo.macauda</div></div>
                </a>
            </div>
            
        </div>
    </div>

    <script>
        lucide.createIcons();

        function filterPortfolio(category, element) {
            const items = document.querySelectorAll('.work-item');
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            if (element) {
                element.classList.add('active');
            } else {
                buttons.forEach(btn => {
                    if(btn.getAttribute('onclick').includes(`'${category}'`)) btn.classList.add('active');
                });
            }
            items.forEach(item => {
                if (item.classList.contains(category)) {
                    item.style.display = 'block';
                    setTimeout(() => item.style.opacity = '1', 10);
                } else {
                    item.style.opacity = '0';
                    setTimeout(() => item.style.display = 'none', 300);
                }
            });
        }

        function openVideoModal(contentSource, title, isVertical = false, isRawHTML = false) {
            const modal = document.getElementById('videoModal');
            const content = document.getElementById('videoModalContent');
            const container = document.getElementById('videoContainer');
            const titleEl = document.getElementById('videoTitle');
            titleEl.innerText = title;

            content.classList.remove('max-w-[450px]', 'h-[85vh]', 'max-w-5xl', 'aspect-video', 'max-w-[380px]', 'aspect-[9/16]');

            if (isRawHTML) {
                const template = document.getElementById(contentSource);
                if(template) {
                    container.innerHTML = `<div class="w-full h-full overflow-y-auto bg-white flex justify-center pt-4" style="-webkit-overflow-scrolling: touch;">${template.innerHTML}</div>`;
                    if (window.instgrm) window.instgrm.Embeds.process();
                    else {
                        const script = document.createElement('script');
                        script.src = "https://www.instagram.com/embed.js";
                        script.async = true;
                        document.body.appendChild(script);
                    }
                }
            } else {
                container.innerHTML = `<iframe src="${contentSource}" class="w-full h-full" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>`;
            }
            
            if (isVertical) {
                const widthClass = isRawHTML ? 'max-w-[450px]' : 'max-w-[380px]';
                content.classList.add(widthClass, 'w-full', 'aspect-[9/16]');
                if(isRawHTML) content.classList.add('h-[85vh]');
            } else {
                content.classList.add('max-w-5xl', 'w-full', 'aspect-video');
            }
            
            modal.classList.remove('opacity-0', 'pointer-events-none');
            content.classList.remove('scale-95');
            content.classList.add('scale-100');
            document.body.style.overflow = 'hidden';
        }

        function closeVideoModal() {
            const modal = document.getElementById('videoModal');
            const content = document.getElementById('videoModalContent');
            const container = document.getElementById('videoContainer');
            modal.classList.add('opacity-0', 'pointer-events-none');
            content.classList.remove('scale-100');
            content.classList.add('scale-95');
            document.body.style.overflow = '';
            setTimeout(() => { container.innerHTML = ''; }, 300);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const menuContent = document.getElementById('mobileMenuContent');
            const iconMenu = document.getElementById('icon-menu');
            const iconX = document.getElementById('icon-x');
            const isOpen = menu.classList.contains('opacity-100');
            if (!isOpen) {
                menu.classList.remove('opacity-0', 'pointer-events-none');
                menu.classList.add('opacity-100', 'pointer-events-auto');
                menuContent.classList.remove('-translate-y-10');
                menuContent.classList.add('translate-y-0');
                document.body.style.overflow = 'hidden';
                iconMenu.classList.add('hidden');
                iconX.classList.remove('hidden');
            } else {
                menu.classList.add('opacity-0', 'pointer-events-none');
                menu.classList.remove('opacity-100', 'pointer-events-auto');
                menuContent.classList.remove('translate-y-0');
                menuContent.classList.add('-translate-y-10');
                document.body.style.overflow = '';
                iconX.classList.add('hidden');
                iconMenu.classList.remove('hidden');
            }
        }

        function toggleContactModal() {
            const modal = document.getElementById('contactModal');
            const content = document.getElementById('contactModalContent');
            const isOpen = modal.classList.contains('opacity-100');
            if(!isOpen) {
                modal.classList.remove('opacity-0', 'pointer-events-none');
                modal.classList.add('opacity-100', 'pointer-events-auto');
                content.classList.replace('translate-y-10', 'translate-y-0');
                document.body.style.overflow = 'hidden';
            } else {
                modal.classList.add('opacity-0', 'pointer-events-none');
                modal.classList.remove('opacity-100', 'pointer-events-auto');
                content.classList.replace('translate-y-0', 'translate-y-10');
                document.body.style.overflow = '';
            }
        }

        function initScrollAnimations() {
            const reveals = document.querySelectorAll('.reveal');
            const revealOnScroll = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('active');
                });
            }, { threshold: 0.1 });
            reveals.forEach(r => revealOnScroll.observe(r));
        }

        document.addEventListener('DOMContentLoaded', () => {
            initScrollAnimations();
            filterPortfolio('social-marketing'); // Avvia filtrando la prima categoria

            const pill = document.getElementById('chat-pill');
            if(pill) {
                setTimeout(() => { pill.classList.add('expanded'); }, 3000);
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 50) pill.classList.remove('expanded');
                    else pill.classList.add('expanded');
                });
            }
        });

        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if(nav) nav.style.background = window.scrollY > 50 ? 'rgba(0, 0, 0, 0.9)' : 'rgba(0, 0, 0, 0.6)';
        });
    </script>
</body>
</html>
